{"mappings":"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","sources":["src/js/cartOrderPost.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-9c0de89afd053a87.js","node_modules/@parcel/runtime-js/lib/runtime-5511ba0b0cf5a279.js","node_modules/@parcel/runtime-js/lib/runtime-ddde654929132634.js","src/js/cartMarkupEmpty.js","src/js/cartTotalPrice.js","src/js/cartMarkupFull.js","src/js/cartQuantityItemsCount.js","node_modules/@parcel/runtime-js/lib/runtime-380d08727eff5757.js","src/js/cartRemoveItem.js","src/js/cart.js","src/js/cartClear.js"],"sourcesContent":["export function cartOrderPost() {\n  const refs = {\n    checkModalBtn: document.querySelector('.form-btn'),\n    popupCart: document.querySelector('.popup-cart'),\n    closeBtn: document.querySelector('.popup-cart-close-btn'),\n  };\n\n  refs.checkModalBtn.addEventListener('click', e => {\n    e.preventDefault();\n    refs.popupCart.classList.remove('is-hidden');\n    window.addEventListener('keydown', closeByEscape);\n  });\n\n  refs.closeBtn.addEventListener('click', closeModal);\n\n  refs.popupCart.addEventListener('click', e => {\n    if (e.target === refs.popupCart) {\n      closeModal();\n    }\n  });\n\n  function closeModal() {\n    refs.popupCart.classList.add('is-hidden');\n    window.removeEventListener('keydown', closeByEscape);\n  }\n\n  function closeByEscape(e) {\n    if (e.code === 'Escape') {\n      closeModal();\n    }\n  }\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jxAss\\\":\\\"cartpage.e7655e05.js\\\",\\\"bdzKr\\\":\\\"basket.b33eb1ab.png\\\",\\\"kgHWO\\\":\\\"basket-2x.7099a48e.png\\\",\\\"410VS\\\":\\\"icons.7e50764c.svg\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('jxAss') + require('./helpers/bundle-manifest').resolve(\"bdzKr\");","module.exports = require('./helpers/bundle-url').getBundleURL('jxAss') + require('./helpers/bundle-manifest').resolve(\"kgHWO\");","import basket from '../images/basket.png';\nimport basket2x from '../images/basket-2x.png';\n\nexport const cartMarkupEmpty = `\n    <picture>\n      <source srcset=\"${basket} 1x, ${basket2x} 2x\" />\n      <img src=\"${basket}\" alt=\"basket\" class=\"basket-img\" />\n    </picture>\n    <h3 class=\"basket-title\">\n      Your basket is <a href=\"./index.html\" class=\"basket-title-link\">empty...</a>\n    </h3>\n    <p class=\"basket-text\">\n      Go to the main page to select your favorite products and add them to the\n      cart.\n    </p>`;\n","export function cartTotalPrice(objArr) {\n  let TOTAL_PRICE = 0;\n  for (const product of objArr) {\n    TOTAL_PRICE += product.price;\n  }\n  return TOTAL_PRICE.toFixed(2);\n}\n","import icons from '../images/icons.svg';\nimport { cartTotalPrice } from './cartTotalPrice';\n\nexport function cartMarkupFull(YOUR_CART) {\n  const markupFullCart =\n    `<div class=\"delete-all\">\n        <p class=\"delete-all-text\">Delete all</p>\n            <button type=\"button\" class=\"delete-all-btn\">\n                <svg class=\"delete-all-icon\">\n                    <use href=\"${icons}#icon-remove\"></use>\n                </svg>\n            </button>\n    </div>\n    <ul class=\"your-cart-list\">` +\n    YOUR_CART.map(\n      ({ category, img, name, price, size, _id }) =>\n            `<div class=\"cart-list-container\"><li class=\"cart-product-card\" data-product-id=${_id}>\n        <div class=\"product-cart-container\">\n            <img class=\"cart-product-img\" src=${img} alt=${name} />\n            </div>\n            <div class=\"cart-product-card-discription\">\n                <div class=\"cart-product-card-info\">\n                    <p class=\"cart-product-name\">${name}</p>\n                    <div class=\"cart-product-features\">\n                        <p class=\"cart-product-category\">Category: <span class=\"cart-product-category-span\">${category}</span></p>\n                        <p class=\"cart-product-size\">Size: <span class=\"cart-product-size-span\">${size}</span></p>\n                    </div>\n                    <p class=\"cart-product-price\">${price}</p>\n                </div>\n                <div class=\"cart-product-card-controls\">\n                    <button class=\"remove-cart-item-btn\" type=\"button\" data-removeit=${_id}>\n                        <svg class=\"remove-cart-item-icon\" data-removeit=${_id}>\n                            <use href=\"${icons}#icon-remove\" data-removeit=${_id}></use></use>\n                        </svg>\n                    </button>\n                    <!-- <div class=\"counter\"></div> -->\n                </div>\n            </div>\n        </li></div>`\n    ).join('') +\n    `</ul>\n    <div class=\"order\">\n        <h2 class=\"order-title\">Your Order</h2>\n        <div class=\"order-total\">\n            <p class=\"order-text-total\">Total</p>\n            <div class=\"order-sum\">\n                <p class=\"order-total-sum\">\n                    <span class=\"order-text-sum\">Sum: </span>&#36;${cartTotalPrice(\n                      YOUR_CART\n                    )}</p>\n            </div>\n        </div>\n        <form class=\"form-input\">\n            <input type=\"email\" name=\"user-email\" id=\"user-email\" class=\"mail-input\" placeholder=\"Enter your email\" pattern=\"[A-Za-z0-9._+\\-']+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,}\" required/>\n            <button type=\"submit\" class=\"form-btn\">Checkout</button>\n        </form>\n    </div>`;\n    const btn = document.querySelector('.form-btn')\n    console.log(btn);\n    return markupFullCart;\n\n}\n","export function cartQuantityItemsCount() {\n  const YOUR_CART = JSON.parse(localStorage.getItem('cart'));\n\n  const quantityItemsH = document.querySelector('.js-cart-quantity');\n  const quantityItemsC = document.querySelector('.js-cart-quantity-big');\n\n  if (!!quantityItemsH) {\n    quantityItemsH.textContent = YOUR_CART.length;\n  }\n  if (!!quantityItemsC) {\n    quantityItemsC.textContent = YOUR_CART.length;\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('jxAss') + require('./helpers/bundle-manifest').resolve(\"410VS\");","import { cartPageRender } from './cart.js';\nimport { cartQuantityItemsCount } from './cartQuantityItemsCount.js';\n\nconst cart = document.querySelector('.js-basket');\n\nexport function cartRemoveItem() {\n  cart.addEventListener('click', e => {\n    if (e.target.dataset.removeit) {\n      const currentCart = JSON.parse(localStorage.getItem('cart')) || [];\n\n      const updatedCart = currentCart.filter(\n        product => product._id !== e.target.dataset.removeit\n      );\n\n      localStorage.setItem('cart', JSON.stringify(updatedCart));\n\n      cartPageRender(updatedCart);\n      cartQuantityItemsCount();\n    }\n  });\n}\n","import { cartMarkupEmpty } from './cartMarkupEmpty.js';\nimport { cartMarkupFull } from './cartMarkupFull.js';\nimport { cartClear } from './cartClear.js';\nimport { cartQuantityItemsCount } from './cartQuantityItemsCount.js';\nimport { cartRemoveItem } from './cartRemoveItem.js';\nimport { cartOrderPost } from './cartOrderPost.js';\n\nconst cart = document.querySelector('.js-basket');\nconst YOUR_CART = JSON.parse(localStorage.getItem('cart'));\n\ncartPageRender(YOUR_CART);\n\nexport function cartPageRender(YOUR_CART) {\n  if (YOUR_CART.length === 0) {\n    cart.innerHTML = cartMarkupEmpty;\n  } else {\n    cart.innerHTML = cartMarkupFull(YOUR_CART);\n\n    cartClear(YOUR_CART);\n    cartRemoveItem();\n    cartQuantityItemsCount();\n  }\n  cartOrderPost();\n}\n","import { cartPageRender } from './cart.js';\nimport { cartQuantityItemsCount } from './cartQuantityItemsCount.js';\n\nexport function cartClear() {\n  const cleatCartBtn = document.querySelector('.delete-all-btn');\n\n  cleatCartBtn.addEventListener('click', () => {\n    localStorage.setItem('cart', '[]');\n    cartPageRender([]);\n    cartQuantityItemsCount();\n  });\n}\n"],"names":["$982d74bd2659e184$export$b25c9ee1080081e","refs","checkModalBtn","document","querySelector","popupCart","closeBtn","closeModal","classList","add","window","removeEventListener","closeByEscape","e","code","addEventListener","preventDefault","remove","target","$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$88950994a8b30409$exports","getBundleURL","resolve","$3326241d65d44184$exports","$31e7c9c229675c92$export$dec8fdb939a1b25e","concat","$parcel$interopDefault","$fc2fe92e7c184eef$export$da9de4663d543993","objArr","TOTAL_PRICE","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","price","return","toFixed","$4c3d8bf35cbdbe15$export$acfaa823ed761166","YOUR_CART","markupFullCart","$c1d2ad3dc2e3bc7b$exports","map","param","category","img","name","size","_id","join","btn","console","log","$eb0d1e884a57f9ec$export$78f00c911b625885","localStorage","getItem","quantityItemsH","quantityItemsC","textContent","$c64813dcf82afe07$var$cart","$ce375e1befa17f1c$var$cart","$ce375e1befa17f1c$export$1a3e6f91d23390ff","YOUR_CART1","innerHTML","setItem","dataset","removeit","updatedCart","filter","product","stringify"],"version":3,"file":"cartpage.e7655e05.js.map"}