{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,qMCAzD,MAAMC,EAAO,CACXC,cAAeC,SAASC,cAAc,cACtCC,UAAWF,SAASC,cAAc,eAClCE,SAAUH,SAASC,cAAc,0BAiBnC,SAASG,IACPN,EAAKI,UAAUG,UAAUC,IAAI,aAC7BC,OAAOC,oBAAoB,UAAWC,E,CAGxC,SAASA,EAAcC,GACN,WAAXA,EAAEC,MACJP,G,CArBJN,EAAKC,cAAca,iBAAiB,SAASF,IAC3CA,EAAEG,iBACFf,EAAKI,UAAUG,UAAUS,OAAO,aAChCP,OAAOK,iBAAiB,UAAWH,EAAc,IAGnDX,EAAKK,SAASS,iBAAiB,QAASR,GAExCN,EAAKI,UAAUU,iBAAiB,SAASF,IACnCA,EAAEK,SAAWjB,EAAKI,WACpBE,GAAY,I,MChBhBY,EAAiB,IAAAC,IAAoBvB,EAAA,SAAAwB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FC,EAAiB,IAAAN,IAAoBvB,EAAA,SAAAwB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCGrF,MAAME,EAAkB,0CAEPC,EAAAT,UAAcS,EAAAF,8BACpBE,EAAAT,2T,MCNlBU,EAAiB,IAAAT,IAAoBvB,EAAA,SAAAwB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCI5F,MAAMK,EAAO3B,SAASC,cAAc,cACRD,SAASC,cAAc,mBAK5C,SAAS2B,EAAeC,GCPxB,IAAwBC,EDQJ,IAArBD,EAAUvC,OACZqC,EAAKI,UAAYP,EAEjBG,EAAKI,WCXsBD,EDWKD,ECThC,yNAI6BJ,EAAAC,qHAK7BI,EAAUE,KACR,EAACC,SAAEA,EAAQC,IAAEA,EAAGC,KAAEA,EAAIC,MAAEA,EAAKC,KAAEA,EAAIC,IAAEA,KACnC,iDAAiDA,qDACTJ,SAAWC,yKAGRA,4IAEwBF,kFACRI,+FAEfD,oKAGsBE,iEAAmEb,EAAAC,oKAKvIa,KAAK,IACP,yTClCG,SAAwBC,GAC7B,IAAIC,EAAc,EAClB,IAAK,MAAMC,KAAWF,EACpBC,GAAeC,EAAQN,MAEzB,OAAOK,EAAYE,QAAQ,E,CDoCuC,CAC9Cb,2W,CDlCtBF,EAFkBhC,KAAKC,MAAM+C,aAAaC,QAAQ","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-2598054faea1c49c.js","src/js/popup-cart.js","node_modules/@parcel/runtime-js/lib/runtime-cc95bcbd1c9148cf.js","node_modules/@parcel/runtime-js/lib/runtime-cd6f7453558a94cb.js","src/js/cartMarkupEmpty.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","src/js/cart.js","src/js/cartMarkupFull.js","src/js/cartTotalPrice.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"feDGP\\\":\\\"cartpage.5c91bc42.js\\\",\\\"6MAne\\\":\\\"basket.b33eb1ab.png\\\",\\\"conrQ\\\":\\\"basket-2x.7099a48e.png\\\",\\\"8OQ7p\\\":\\\"icons.7e50764c.svg\\\"}\"));","const refs = {\n  checkModalBtn: document.querySelector('.check-btn'),\n  popupCart: document.querySelector('.popup-cart'),\n  closeBtn: document.querySelector('.popup-cart-close-btn'),\n};\n\nrefs.checkModalBtn.addEventListener('click', e => {\n  e.preventDefault();\n  refs.popupCart.classList.remove('is-hidden');\n  window.addEventListener('keydown', closeByEscape);\n});\n\nrefs.closeBtn.addEventListener('click', closeModal);\n\nrefs.popupCart.addEventListener('click', e => {\n  if (e.target === refs.popupCart) {\n    closeModal();\n  }\n});\n\nfunction closeModal() {\n  refs.popupCart.classList.add('is-hidden');\n  window.removeEventListener('keydown', closeByEscape);\n}\n\nfunction closeByEscape(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6MAne\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"conrQ\")).toString();","import basket from '../images/basket.png';\nimport basket2x from '../images/basket-2x.png';\n\nexport const emptyCartMarkup = `\n    <picture>\n      <source srcset=\"${basket} 1x, ${basket2x} 2x\" />\n      <img src=\"${basket}\" alt=\"basket\" class=\"basket-img\" />\n    </picture>\n    <h3 class=\"basket-title\">\n      Your basket is <a href=\"./index.html\" class=\"basket-title-link\">empty...</a>\n    </h3>\n    <p class=\"basket-text\">\n      Go to the main page to select your favorite products and add them to the\n      cart.\n    </p>`;\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","import { emptyCartMarkup } from './cartMarkupEmpty.js';\nimport { cartMarkupFull } from './cartMarkupFull.js';\nimport { clearCart } from './cartClear.js';\n\nconst cart = document.querySelector('.js-basket');\nconst cartProductQuantity = document.querySelector('.quantity-carts');\nconst YOUR_CART = JSON.parse(localStorage.getItem('cart'));\n\nrenderCartPage(YOUR_CART);\n\nexport function renderCartPage(YOUR_CART) {\n  if (YOUR_CART.length === 0) {\n    cart.innerHTML = emptyCartMarkup;\n  } else {\n    cart.innerHTML = cartMarkupFull(YOUR_CART);\n    clearCart(YOUR_CART);\n  }\n}\n\n\nfunction clearCart(YOUR_CART) {\n//   const removeCartItemBtn = document.querySelector('.remove-cart-item-btn');\n\n//   removeCartItemBtn.addEventListener('click', e => {\n//     const YOUR_CART = JSON.parse(localStorage.getItem('cart'));\n//     const id = e.currentTarget.datast.productid;\n\n//     const getStorageId = YOUR_CART.find(el => el._id === id);\n//     console.log(getStorageId);\n\n//     const newCart = YOUR_CART.filter(el => el !== getStorageId);\n//     localStorage.setItem('cart', JSON.stringify(newCart));\n\n//     renderCartPage(YOUR_CART);\n//   });\n// }\n\n\n\n\n// const removePopupBtn = document.querySelector('.popup-main-remove-btn');\n// removeCartItemBtn.addEventListener('click', e => {\n//   const id = e.target.id;\n//   const getStorageId = YOUR_CART.find(el => el._id === id);\n//   console.log(getStorageId);\n\n//   const newCart = YOUR_CART.filter(el => el !== getStorageId);\n//   localStorage.setItem('cart', JSON.stringify(newCart));\n// });","import icons from '../images/icons.svg';\nimport { calcTotalPrice } from './cartTotalPrice';\n\nexport function cartMarkupFull(YOUR_CART) {\n  const fullCartMarkup =\n    `<div class=\"delete-all\">\n        <p class=\"delete-all-text\">Delete all</p>\n            <button type=\"button\" class=\"delete-all-btn\">\n                <svg class=\"delete-all-icon\">\n                    <use href=\"${icons}#icon-remove\"></use>\n                </svg>\n            </button>\n    </div>\n    <ul class=\"your-cart-list\">` +\n    YOUR_CART.map(\n      ({ category, img, name, price, size, _id }) =>\n        `<li class=\"cart-product-card\" data-product-id=${_id}>\n            <img class=\"cart-product-img\" src=${img} alt=${name} />\n            <div class=\"cart-product-card-discription\">\n                <div class=\"cart-product-card-info\">\n                    <p class=\"cart-product-name\">${name}</p>\n                    <div class=\"cart-product-features\">\n                        <p class=\"cart-product-category\">Category: <span>${category}</span></p>\n                        <p class=\"cart-product-size\">Size: <span>${size}</span></p>\n                    </div>\n                    <p class=\"cart-product-price\">${price}</p>\n                </div>\n                <div class=\"cart-product-card-controls\">\n                    <button class=\"remove-cart-item-btn\" data-productid=${_id} type=\"button\"><svg class=\"remove-cart-item-icon\"><use href=\"${icons}#icon-remove\"></use>/svg></button>\n                    <!-- <div class=\"counter\"></div> -->\n                </div>\n            </div>\n        </li>`\n    ).join('') +\n    `</ul>\n    <div class=\"order\">\n        <h2 class=\"order-title\">Your Order</h2>\n        <div class=\"order-total\">\n            <p class=\"order-total\">Total</p>\n            <div class=\"order-sum\">\n                <p class=\"order-total-sum\">\n                    <span class=\"order-text-sum\">Sum: </span>&#36;${calcTotalPrice(\n                      YOUR_CART\n                    )}</p>\n            </div>\n        </div>\n        <form class=\"form-input\">\n            <input type=\"email\" name=\"user-email\" id=\"user-email\" class=\"mail-input\" placeholder=\"Enter your email\" pattern=\"[A-Za-z0-9._+\\-']+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,}\" required/>\n            <button type=\"submit\" class=\"form-btn\">Checkout</button>\n        </form>\n    </div>`;\n\n  return fullCartMarkup;\n}\n","export function calcTotalPrice(objArr) {\n  let TOTAL_PRICE = 0;\n  for (const product of objArr) {\n    TOTAL_PRICE += product.price;\n  }\n  return TOTAL_PRICE.toFixed(2);\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$9d0fd7356a87f70f$var$refs","checkModalBtn","document","querySelector","popupCart","closeBtn","$9d0fd7356a87f70f$var$closeModal","classList","add","window","removeEventListener","$9d0fd7356a87f70f$var$closeByEscape","e","code","addEventListener","preventDefault","remove","target","$22d7e3a8bdaf0385$exports","URL","resolve","import","meta","url","toString","$7278c4e64f920f0e$exports","$8018648d7eab2c25$export$781f45311c86f7e8","$parcel$interopDefault","$e27edc6dc33d0133$exports","$915de8ffc4dd3149$var$cart","$915de8ffc4dd3149$export$ea95243f2fa28b61","YOUR_CART1","YOUR_CART","innerHTML","map","category","img","name","price","size","_id","join","objArr","TOTAL_PRICE","product","toFixed","localStorage","getItem"],"version":3,"file":"cartpage.5c91bc42.js.map"}