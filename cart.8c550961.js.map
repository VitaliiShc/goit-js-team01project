{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-7f237bee800e4447.js","src/js/popup-cart.js","node_modules/@parcel/runtime-js/lib/runtime-d81dfae683b33311.js","node_modules/@parcel/runtime-js/lib/runtime-61932d6f53cd6739.js","node_modules/@parcel/runtime-js/lib/runtime-fba02b81e7af588d.js","src/js/yourcart.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"27OeO\\\":\\\"cart.8c550961.js\\\",\\\"bdzKr\\\":\\\"basket.b33eb1ab.png\\\",\\\"kgHWO\\\":\\\"basket-2x.7099a48e.png\\\",\\\"410VS\\\":\\\"icons.7e50764c.svg\\\"}\"));","const refs = {\n  checkModalBtn: document.querySelector('.check-btn'),\n  popupCart: document.querySelector('.popup-cart'),\n  closeBtn: document.querySelector('.popup-cart-close-btn'),\n};\n\nrefs.checkModalBtn.addEventListener('click', e => {\n  e.preventDefault();\n  refs.popupCart.classList.remove('is-hidden');\n  window.addEventListener('keydown', closeByEscape);\n});\n\nrefs.closeBtn.addEventListener('click', closeModal);\n\nrefs.popupCart.addEventListener('click', e => {\n  if (e.target === refs.popupCart) {\n    closeModal();\n  }\n});\n\nfunction closeModal() {\n  refs.popupCart.classList.add('is-hidden');\n  window.removeEventListener('keydown', closeByEscape);\n}\n\nfunction closeByEscape(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('27OeO') + require('./helpers/bundle-manifest').resolve(\"bdzKr\");","module.exports = require('./helpers/bundle-url').getBundleURL('27OeO') + require('./helpers/bundle-manifest').resolve(\"kgHWO\");","module.exports = require('./helpers/bundle-url').getBundleURL('27OeO') + require('./helpers/bundle-manifest').resolve(\"410VS\");","import basket from '../images/basket.png';\nimport basket2x from '../images/basket-2x.png';\nimport icons from '../images/icons.svg';\n\n// import Scrollbar from 'smooth-scrollbar';\n\nconst basketCart = document.querySelector('.full-cart-container');\nconst cartProductQuantity = document.querySelector('.quantity-carts');\nconsole.log(cartProductQuantity.textContent);\n\nconst FULLDATA = JSON.parse(localStorage.getItem('res.data'));\nconsole.log(FULLDATA);\n\nconst YOUR_CART = JSON.parse(localStorage.getItem('cart'));\nconsole.log('cart array', YOUR_CART);\n\n// let testValue = 'Test Value';\n\nlet TOTAL_PRICE = 0;\n\nfunction calcTotalPrice(objArr) {\n  // if (!objArr) {\n  //   return 0;\n  // }\n\n  // objArr.reduce((price) => {\n  //   return (TOTAL_PRICE += price)\n  // }, 0).toFixed(2);\n\n  // console.log('cart array for calcTotalPrice', objArr);\n\n  for (const product of objArr) {\n    TOTAL_PRICE += product.price;\n    \n  }\n  console.log('total price', TOTAL_PRICE.toFixed(2));\n  \n}\n  \ncalcTotalPrice(YOUR_CART);\n\nlet total = TOTAL_PRICE.toFixed(2)\n\nrenderPage(YOUR_CART);\n\nfunction renderPage(YOUR_CART) {\n  if (YOUR_CART.length === 0) {\n    console.log('empty');\n    basketCart.innerHTML = `\n    <picture>\n      <source srcset=\"${basket} 1x, ${basket2x} 2x\" />\n      <img src=\"${basket}\" alt=\"basket\" class=\"basket-img\" />\n    </picture>\n    <h3 class=\"basket-title\">\n      Your basket is\n      <a href=\"./index.html\" class=\"basket-title-link\"> empty... </a>\n    </h3>\n    <p class=\"basket-text\">\n      Go to the main page to select your favorite products and add them to the\n      cart.\n    </p>`;\n  } else if (YOUR_CART.length !== 0) {\n    console.log('no empty');\n    createCartMarkup(YOUR_CART);\n  }\n}\n\n\nfunction createCartMarkup(array) {\n  const cartMarkup = array\n    .map(\n      ({\n        category,\n        img,\n        name,\n        price,\n        size,\n        _id,\n      }) => `<div class=\"yourcart-product-card\" data-product-id=${_id}>\n      <img class=\"yourcart-product-img\" src=${img} alt=${name} />\n      <div class=\"yourcart-product-card-discription\">\n        <div class=\"yourcart-product-card-info\">\n          <p class=\"yourcart-product-name\">${name}</p>\n          <div class=\"yourcart-product-features\">\n            <p class=\"yourcart-product-category\">Category: <span>${category}</span></p>\n            <p class=\"yourcart-product-size\">Size: <span>${size}</span></p>\n          </div>\n          <p class=\"yourcart-product-price\">${price}</p>\n        </div>\n        <p class=\"yourcart-product-price\">${price}</p>\n      </div>\n      <button type=\"button\" class=\"delete-btn\" data-product-id=\"${_id}\">\n        <svg class=\"delete-icon\">\n          <use href=\"${icons}#icon-remove\"></use>\n        </svg>\n      </button>\n    </div>\n  </div>`\n    )\n    .join('');\n\n\n\n  const deleteButtons = document.querySelectorAll('.delete-btn');\n  deleteButtons.forEach(button => {\n    button.addEventListener('click', function () {\n      const productId = this.getAttribute('data-product-id');\n\n      deleteProduct(productId);\n    });\n  });\n\n  const deleteAllBtn = document.querySelector('.delete-all-btn');\n  deleteAllBtn.addEventListener('click', function () {\n    localStorage.setItem('cart', '[]');\n\n    renderPage([]);\n  });\n}\n\nfunction deleteProduct(productId) {\n  const currentCart = JSON.parse(localStorage.getItem('cart')) || [];\n\n  const updatedCart = currentCart.filter(product => product._id !== productId);\n\n  localStorage.setItem('cart', JSON.stringify(updatedCart));\n\n  renderPage(updatedCart);\n\n  const fullCartMarkup =\n    `            <div class=\"delete-all\">\n                <p class=\"delete-all-text\">Delete all</p>\n                <button type=\"button\" class=\"delete-all-btn\">\n                    <svg class=\"delete-all-icon\">\n                        <use href=\"${icons}#icon-remove\"></use>\n                    </svg>\n                </button>\n            </div><div class=\"js-basket\">` +\n    cartMarkup +\n    `</div>    <div class=\"order\">\n      <h2 class=\"order-title\">Your Order</h2>\n      <div class=\"order-total\">\n        <p class=\"order-total\">Total</p>\n        <div class=\"order-sum\">\n          <p class=\"order-text-sum\">Sum:</p>\n          <span class=\"order-total-sum\">${ total }</span>\n        </div>\n      </div>\n      <form class=\"form-input\">\n        <input\n          type=\"email\"\n          name=\"user-email\"\n          id=\"user-email\"\n          class=\"mail-input\"\n          placeholder=\"Enter your email\"\n          pattern=\"[A-Za-z0-9._+\\-']+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,}\"\n          required\n        />\n        <button type=\"submit\" class=\"form-btn\">Checkout</button>\n      </form>\n    </div>`;\n\n  // console.log(fullCartMarkup);\n\n  basketCart.innerHTML = fullCartMarkup;\n\n  //   const order = document.querySelector('.order-total-sum');\n  //   let total = 0\n  //   cartMarkup.forEach((price) => {\n  //     total += price\n\n  //   })\n\n  // console.log(total)\n\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$3bc069a869a2e642$var$refs","checkModalBtn","document","querySelector","popupCart","closeBtn","$3bc069a869a2e642$var$closeModal","classList","add","window","removeEventListener","$3bc069a869a2e642$var$closeByEscape","e","code","addEventListener","preventDefault","remove","target","$9d94a914b5d22332$exports","getBundleURL","resolve","$8f608a07f86f1037$exports","$cea29fef78db30e7$exports","$f9aac9992ff8f670$var$basketCart","$f9aac9992ff8f670$var$cartProductQuantity","console","log","textContent","$f9aac9992ff8f670$var$FULLDATA","localStorage","getItem","$f9aac9992ff8f670$var$YOUR_CART","$f9aac9992ff8f670$var$TOTAL_PRICE","objArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","product","price","return","toFixed","$f9aac9992ff8f670$var$calcTotalPrice","$f9aac9992ff8f670$var$total","$f9aac9992ff8f670$var$renderPage","YOUR_CART1","innerHTML","concat","$parcel$interopDefault","array","map","param","category","img","name","size","_id","join","querySelectorAll","forEach","button","$f9aac9992ff8f670$var$deleteProduct","this","getAttribute","setItem","$f9aac9992ff8f670$var$createCartMarkup","productId","updatedCart","filter","stringify","fullCartMarkup","cartMarkup"],"version":3,"file":"cart.8c550961.js.map"}